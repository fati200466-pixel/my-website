<!doctype html>
<html lang="ar" dir="rtl">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…Ù†ØµØ© Ù†Ø§ÙØ³ - ØªØ¬Ø±Ø¨Ø© ØªØ¯Ø±ÙŠØ¨ Ø°ÙƒÙŠØ© | Ø¨Ø¯Ø±ÙŠØ© Ø§Ù„Ù…Ø·ÙŠØ±ÙŠ</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&amp;display=swap" rel="stylesheet">
  <script src="/_sdk/data_sdk.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            width: 100%;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(120deg, #a1c4fd 0%, #c2e9fb 100%);
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(255, 200, 124, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 90% 80%, rgba(154, 208, 245, 0.15) 0%, transparent 50%);
            pointer-events: none;
        }

        .app-wrapper {
            width: 100%;
            min-height: 100%;
        overflow: auto;

            position: relative;
        }

        /* Header Styles */
.header{
  position: relative;
  padding: 26px 16px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  box-shadow: 0 10px 30px rgba(0,0,0,.18);
  overflow: hidden;
}

.header::before{
  content:"";
  position:absolute;
  inset:-40px;
  background:
    radial-gradient(circle at 15% 20%, rgba(255,255,255,.18) 0%, transparent 55%),
    radial-gradient(circle at 85% 70%, rgba(0,0,0,.12) 0%, transparent 60%);
  pointer-events:none;
}

.header-content{
  position: relative;
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  gap: 18px;
}

.header-card{
  width: 100%;
  display:flex;
  align-items:center;
  gap: 18px;
  padding: 18px;
  border-radius: 22px;
  background: rgba(255,255,255,.14);
  border: 1px solid rgba(255,255,255,.22);
  backdrop-filter: blur(16px);
  box-shadow: 0 10px 30px rgba(0,0,0,.18);
}

.logo-wrapper{
  width: 86px;
  height: 86px;
  background: #fff;
  border-radius: 22px;
  padding: 14px;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow: 0 12px 28px rgba(0,0,0,.22);
  flex-shrink:0;
}

.logo{ width:100%; height:100%; object-fit:contain; }

.header-text{
  flex:1;
  display:flex;
  flex-direction:column;
  gap: 10px;
  min-width: 0;
}

.platform-title{
  font-size: 2.35rem;
  font-weight: 800;
  color:#fff;
  margin:0;
  line-height:1.15;
  text-shadow: 0 8px 18px rgba(0,0,0,.25);
}

.school-info{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 10px;
  padding: 12px;
  border-radius: 16px;
  background: rgba(255,255,255,.12);
  border: 1px solid rgba(255,255,255,.20);
}

.school-info div{
  color:#fff;
  font-size: .98rem;
  font-weight: 600;
  padding: 10px 12px;
  border-radius: 12px;
  background: rgba(0,0,0,.10);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

#principalName{
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

/* Main Content */
.main-content {
    max-width: 1200px;
    margin: 0 auto;
    padding: 3rem 1.5rem;
}

.glass-card {
    background: white;
    border-radius: 20px;
    padding: 2.5rem;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.5);
    transition: all 0.3s ease;
}

.page-title {
    font-size: 2rem;
    font-weight: 700;
    color: #2d3748;
    text-align: center;
    margin-bottom: 2rem;
    position: relative;
}

.form-group { margin-bottom: 1.5rem; }
.form-label { display: block; font-weight: 600; margin-bottom: 0.5rem; }
.form-input, .form-select {
    width: 100%; padding: 1rem; border: 2px solid #e2e8f0; border-radius: 12px; font-family: 'Cairo';
}

.btn-primary {
    width: 100%; padding: 1.2rem; font-size: 1.2rem; font-weight: 700; border-radius: 12px;
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; border: none; cursor: pointer;
}

/* Subjects Grid */
.subjects-grid {
    display: flex;
    justify-content: center;
    margin-top: 2rem;
}

.subject-card {
    background: white; border-radius: 20px; padding: 2.5rem; text-align: center;
    border: 3px solid #667eea; width: 100%; max-width: 400px;
}

.subject-icon { font-size: 4rem; margin-bottom: 1rem; }
.subject-title { font-size: 1.8rem; font-weight: 700; margin-bottom: 1.5rem; }

.model-buttons { display: flex; gap: 1rem; }
.btn-model {
    flex: 1; padding: 0.8rem; font-weight: 600; border-radius: 10px;
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; border: none; cursor: pointer;
}

/* Quiz Styles */
.progress-bar-container { background: #eee; border-radius: 10px; height: 12px; margin-bottom: 2rem; }
.progress-bar { height: 100%; background: #43e97b; width: 0%; transition: 0.3s; }
.question-card { background: #fff; padding: 2rem; border-radius: 16px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
.options-container { display: flex; flex-direction: column; gap: 10px; margin-top: 20px; }
.option-button {
    padding: 1rem; text-align: right; border: 2px solid #e2e8f0; border-radius: 10px;
    background: #fff; cursor: pointer; font-family: 'Cairo'; font-size: 1.1rem;
}
.option-button.selected { background: #667eea; color: #fff; border-color: #667eea; }

/* Results & Certificate */
.score-display {
    text-align: center; padding: 2rem; background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
    border-radius: 20px; color: #fff; margin-bottom: 2rem;
}
.score-number { font-size: 4rem; font-weight: 800; }

.certificate {
    border: 10px double #d6b86a; padding: 40px; position: relative; text-align: center; margin-top: 20px;
}
.cert-stamp {
    position: absolute; top: 20px; left: 20px; width: 80px; height: 80px;
    background: gold; border-radius: 50%; display: flex; align-items: center; justify-content: center;
    font-weight: 900; font-size: 0.8rem; transform: rotate(-15deg); border: 4px double #7a5c1f;
}

.hidden { display: none !important; }

@media (max-width: 768px){
  .header-card { flex-direction: column; text-align: center; }
  .school-info { grid-template-columns: 1fr; }
}
    </style>
 </head>
 <body>
  <div class="app-wrapper">
   <header class="header">
    <div class="header-content">
      <div class="header-card">
        <div class="logo-wrapper">
            <img src="https://iconape.com/wp-content/files/zz/389912/svg/389912.svg" alt="Ø´Ø¹Ø§Ø± Ù†Ø§ÙØ³" class="logo">
        </div>
        <div class="header-text">
            <h1 class="platform-title" id="platformTitle">Ù…Ù†ØµØ© Ù†Ø§ÙØ³</h1>
            <div class="school-info">
                <div id="schoolName">Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© ÙˆØ§Ù„Ø¹Ø´Ø±ÙˆÙ† Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø¦Ø© Ø¨Ø¬Ø¯Ø©</div>
                <div id="teacherName">Ø§Ù„Ù…Ø¹Ù„Ù…Ø©: Ø¨Ø¯Ø±ÙŠØ© Ø§Ù„Ù…Ø·ÙŠØ±ÙŠ</div>
                <div id="principalName">Ù…Ø¯ÙŠØ±Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø©: Ù…Ø±ÙŠÙ… Ø§Ù„ØºØ§Ù…Ø¯ÙŠ</div>
            </div>
        </div>
      </div>
    </div>
   </header>

   <main class="main-content">
    <div id="registrationPage" class="glass-card">
     <h2 class="page-title">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒÙ ÙÙŠ Ù…Ù†ØµØ© Ù†Ø§ÙØ³ (Ø§Ù„Ø¹Ù„ÙˆÙ…) ğŸ”¬</h2>
     <form id="registrationForm">
       <div class="form-group">
           <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨Ø© *</label>
           <input type="text" id="studentName" class="form-input" placeholder="Ø£Ø¯Ø®Ù„ÙŠ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„" required>
       </div>
       <div class="form-group">
           <label class="form-label">Ø§Ø®ØªØ§Ø±ÙŠ Ø§Ù„ØµÙ *</label>
           <select id="gradeLevel" class="form-select" required>
               <option value="">Ø§Ø®ØªØ§Ø±ÙŠ Ø§Ù„ØµÙ...</option>
               <option value="grade3">Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ</option>
               <option value="grade6">Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¯Ø³ Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ</option>
           </select>
       </div>
       <button type="submit" class="btn-primary">Ø§Ø¨Ø¯Ø£ÙŠ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ø¢Ù† ğŸš€</button>
     </form>
    </div>

    <div id="subjectsPage" class="hidden">
     <div class="glass-card">
      <h2 class="page-title">Ø§Ø®ØªØ§Ø±ÙŠ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ù„Ù„Ø¨Ø¯Ø¡ ÙÙŠ Ù…Ø§Ø¯Ø© Ø§Ù„Ø¹Ù„ÙˆÙ… ğŸ”¬</h2>
      <div class="subjects-grid">
       <div class="subject-card">
        <div class="subject-icon">ğŸ”¬</div>
        <h3 class="subject-title">Ù…Ø§Ø¯Ø© Ø§Ù„Ø¹Ù„ÙˆÙ…</h3>
        <div class="model-buttons">
            <button class="btn-model" onclick="startQuiz('science', 1)">Ù†Ù…ÙˆØ°Ø¬ 1</button> 
            <button class="btn-model" onclick="startQuiz('science', 2)">Ù†Ù…ÙˆØ°Ø¬ 2</button>
        </div>
       </div>
      </div>
     </div>
    </div>

    <div id="quizPage" class="hidden">
     <div class="glass-card">
      <div class="progress-bar-container"><div class="progress-bar" id="progressBar"></div></div>
      <div id="questionContainer"></div>
      <div style="display:flex; gap:1rem; margin-top:2rem;">
          <button class="btn-model" id="prevButton" onclick="previousQuestion()">Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
          <button class="btn-primary" id="nextButton" onclick="nextQuestion()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
      </div>
     </div>
    </div>

    <div id="resultsPage" class="hidden">
     <div class="glass-card">
      <div class="score-display">
       <div class="score-number" id="scoreNumber"></div>
       <div id="scoreMessage"></div>
      </div>

      <div id="certificateBox" class="certificate">
        <div class="cert-stamp">Ø¥Ù†Ø¬Ø§Ø² Ù…Ø¹ØªÙ…Ø¯</div>
        <h2>Ø´Ù‡Ø§Ø¯Ø© Ø¥Ù†Ø¬Ø§Ø²</h2>
        <p>ÙØ®ÙˆØ±Ø© Ø¨ÙƒÙ ÙŠØ§ Ø¨Ø·Ù„Ø©</p>
        <h3 id="certStudentName" style="margin:1rem 0; font-size:2rem;"></h3>
        <p>Ù„Ø§Ø¬ØªÙŠØ§Ø²Ùƒ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¹Ù„ÙˆÙ… Ø¨Ù†Ø¬Ø§Ø­</p>
        <p id="certScore" style="font-weight:bold; color:#2563eb;"></p>
      </div>

      <div style="margin-top:2rem; display:flex; flex-wrap:wrap; gap:10px;">
        <button class="btn-primary" style="background:#22c55e" onclick="sendToTeacher()">Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ù…Ø¹Ù„Ù…Ø© ğŸ“¤</button>
        <button class="btn-model" onclick="location.reload()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ğŸ </button>
      </div>
     </div>
    </div>
   </main>
  </div>

  <script>
    let currentStudent = { name: '', grade: '' };
    let currentQuiz = { subject: 'science', model: 0, currentQuestion: 0, answers: [], questions: [] };

    const questionsDatabase = {
        science: {
            grade3: {
                model1: [
                    { question: "Ù…Ø§ Ø§Ù„Ø°ÙŠ ØªØ­ØªØ§Ø¬Ù‡ Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª Ù„ØªÙ†Ù…ÙˆØŸ", options: ["Ø§Ù„Ù…Ø§Ø¡ ÙˆØ§Ù„Ø¶ÙˆØ¡ ÙˆØ§Ù„Ù‡ÙˆØ§Ø¡", "Ø§Ù„Ù…Ø§Ø¡ ÙÙ‚Ø·", "Ø§Ù„Ø¶ÙˆØ¡ ÙÙ‚Ø·", "Ù„Ø§ ØªØ­ØªØ§Ø¬ Ù„Ø´ÙŠØ¡"], correct: 0 },
                    { question: "Ø£ÙŠ Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª ÙŠØ¹ØªØ¨Ø± Ø­ÙŠÙˆØ§Ù†Ø§Ù‹ Ø£Ù„ÙŠÙØ§Ù‹ØŸ", options: ["Ø§Ù„Ø£Ø³Ø¯", "Ø§Ù„Ù‚Ø·", "Ø§Ù„Ø¯Ø¨", "Ø§Ù„Ø°Ø¦Ø¨"], correct: 1 },
                    { question: "Ù…Ø§ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø§Ø¡ Ø¹Ù†Ø¯Ù…Ø§ ÙŠØªØ¬Ù…Ø¯ØŸ", options: ["Ø³Ø§Ø¦Ù„", "ØµÙ„Ø¨", "ØºØ§Ø²", "Ø¨Ø®Ø§Ø±"], correct: 1 },
                    { question: "ÙƒÙ… Ø¹Ø¯Ø¯ ÙØµÙˆÙ„ Ø§Ù„Ø³Ù†Ø©ØŸ", options: ["2", "3", "4", "5"], correct: 2 },
                    { question: "Ø£ÙŠ Ø¹Ø¶Ùˆ ÙÙŠ Ø§Ù„Ø¬Ø³Ù… ÙŠØ¶Ø® Ø§Ù„Ø¯Ù…ØŸ", options: ["Ø§Ù„Ù…Ø¹Ø¯Ø©", "Ø§Ù„Ø±Ø¦Ø©", "Ø§Ù„Ù‚Ù„Ø¨", "Ø§Ù„ÙƒØ¨Ø¯"], correct: 2 }
                ],
                model2: [
                    { question: "Ù…Ù† Ø£ÙŠÙ† ØªØ­ØµÙ„ Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª Ø¹Ù„Ù‰ ØºØ°Ø§Ø¦Ù‡Ø§ØŸ", options: ["Ù…Ù† Ø§Ù„ØªØ±Ø¨Ø© ÙÙ‚Ø·", "ØªØµÙ†Ø¹Ù‡ Ø¨Ù†ÙØ³Ù‡Ø§", "Ù…Ù† Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª", "Ù…Ù† Ø§Ù„Ù‡ÙˆØ§Ø¡ ÙÙ‚Ø·"], correct: 1 },
                    { question: "Ø£ÙŠ Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø´Ø±Ø§Øª ÙŠØ·ÙŠØ±ØŸ", options: ["Ø§Ù„Ù†Ù…Ù„", "Ø§Ù„ÙØ±Ø§Ø´Ø©", "Ø§Ù„Ø¯ÙŠØ¯Ø§Ù†", "Ø§Ù„Ø£Ø±Ø¶Ø©"], correct: 1 },
                    { question: "Ù…Ø§ Ø´ÙƒÙ„ ÙƒÙˆÙƒØ¨ Ø§Ù„Ø£Ø±Ø¶ØŸ", options: ["Ù…Ø±Ø¨Ø¹", "Ù…Ø«Ù„Ø«", "ÙƒØ±ÙˆÙŠ", "Ù…Ø³ØªØ·ÙŠÙ„"], correct: 2 },
                    { question: "ÙÙŠ Ø£ÙŠ ÙØµÙ„ ØªØªØ³Ø§Ù‚Ø· Ø£ÙˆØ±Ø§Ù‚ Ø§Ù„Ø£Ø´Ø¬Ø§Ø±ØŸ", options: ["Ø§Ù„Ø±Ø¨ÙŠØ¹", "Ø§Ù„ØµÙŠÙ", "Ø§Ù„Ø®Ø±ÙŠÙ", "Ø§Ù„Ø´ØªØ§Ø¡"], correct: 2 },
                    { question: "Ù…Ø§ Ø§Ù„Ø­Ø§Ø³Ø© Ø§Ù„ØªÙŠ Ù†Ø³ØªØ®Ø¯Ù…Ù‡Ø§ Ù„Ù„Ø³Ù…Ø¹ØŸ", options: ["Ø§Ù„Ø¹ÙŠÙ†", "Ø§Ù„Ø£Ø°Ù†", "Ø§Ù„Ø£Ù†Ù", "Ø§Ù„ÙŠØ¯"], correct: 1 }
                ]
            },
            grade6: {
                model1: [
                    { question: "Ù…Ø§ Ø§Ù„ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„ØªÙ†ÙØ³ÙŠØŸ", options: ["Ù‡Ø¶Ù… Ø§Ù„Ø·Ø¹Ø§Ù…", "ØªØ¨Ø§Ø¯Ù„ Ø§Ù„ØºØ§Ø²Ø§Øª", "Ø¶Ø® Ø§Ù„Ø¯Ù…", "Ø§Ù„Ø­Ø±ÙƒØ©"], correct: 1 },
                    { question: "Ù…Ø§ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªÙŠ ÙŠØµÙ†Ø¹ Ø¨Ù‡Ø§ Ø§Ù„Ù†Ø¨Ø§Øª ØºØ°Ø§Ø¡Ù‡ØŸ", options: ["Ø§Ù„ØªÙ†ÙØ³", "Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¶ÙˆØ¦ÙŠ", "Ø§Ù„ØªØ¨Ø®Ø±", "Ø§Ù„Ù‡Ø¶Ù…"], correct: 1 },
                    { question: "Ø£ÙŠ Ù…Ù† Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø§Ø¯Ø© Ù„Ù‡ Ø´ÙƒÙ„ ÙˆØ­Ø¬Ù… Ø«Ø§Ø¨ØªØŸ", options: ["Ø§Ù„ØµÙ„Ø¨", "Ø§Ù„Ø³Ø§Ø¦Ù„", "Ø§Ù„ØºØ§Ø²", "Ø§Ù„Ø¨Ù„Ø§Ø²Ù…Ø§"], correct: 0 },
                    { question: "ÙƒÙ… ÙƒÙˆÙƒØ¨Ø§Ù‹ ÙÙŠ Ù…Ø¬Ù…ÙˆØ¹ØªÙ†Ø§ Ø§Ù„Ø´Ù…Ø³ÙŠØ©ØŸ", options: ["7", "8", "9", "10"], correct: 1 },
                    { question: "Ù…Ø§ Ø§Ù„Ù…ØµØ¯Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù„Ù„Ø·Ø§Ù‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±Ø¶ØŸ", options: ["Ø§Ù„Ù‚Ù…Ø±", "Ø§Ù„Ù†Ø¬ÙˆÙ…", "Ø§Ù„Ø´Ù…Ø³", "Ø§Ù„Ø±ÙŠØ§Ø­"], correct: 2 }
                ],
                model2: [
                    { question: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù„Ù„Ø­ÙŠØ§Ø©ØŸ", options: ["Ø§Ù„Ø¹Ø¶Ùˆ", "Ø§Ù„Ø®Ù„ÙŠØ©", "Ø§Ù„Ù†Ø³ÙŠØ¬", "Ø§Ù„Ø¬Ù‡Ø§Ø²"], correct: 1 },
                    { question: "Ù…Ø§ Ù†ÙˆØ¹ Ø§Ù„ØªØºÙŠØ± Ø¹Ù†Ø¯ ØµØ¯Ø£ Ø§Ù„Ø­Ø¯ÙŠØ¯ØŸ", options: ["ÙÙŠØ²ÙŠØ§Ø¦ÙŠ", "ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ", "Ù†ÙˆÙˆÙŠ", "Ù„Ø§ ÙŠØªØºÙŠØ±"], correct: 1 },
                    { question: "Ù…Ø§ Ø³Ø¨Ø¨ ØªØ¹Ø§Ù‚Ø¨ Ø§Ù„Ù„ÙŠÙ„ ÙˆØ§Ù„Ù†Ù‡Ø§Ø±ØŸ", options: ["Ø¯ÙˆØ±Ø§Ù† Ø§Ù„Ø£Ø±Ø¶ Ø­ÙˆÙ„ Ø§Ù„Ø´Ù…Ø³", "Ø¯ÙˆØ±Ø§Ù† Ø§Ù„Ø£Ø±Ø¶ Ø­ÙˆÙ„ Ù…Ø­ÙˆØ±Ù‡Ø§", "Ø­Ø±ÙƒØ© Ø§Ù„Ù‚Ù…Ø±", "Ù…ÙŠÙ„ Ø§Ù„Ø´Ù…Ø³"], correct: 1 },
                    { question: "Ø£ÙŠ Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ ØºÙŠØ± Ù…ØªØ¬Ø¯Ø¯ØŸ", options: ["Ø§Ù„Ø±ÙŠØ§Ø­", "Ø§Ù„Ø´Ù…Ø³", "Ø§Ù„Ù†ÙØ·", "Ø§Ù„Ù…Ø§Ø¡"], correct: 2 },
                    { question: "Ù…Ø§ Ø§Ù„ØºØ§Ø² Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠ Ù„Ø§Ø´ØªØ¹Ø§Ù„ Ø§Ù„Ù†Ø§Ø±ØŸ", options: ["Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†", "Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†", "Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†", "Ø§Ù„Ø£Ø±Ø¬ÙˆÙ†"], correct: 1 }
                ]
            }
        }
    };

    document.getElementById('registrationForm').addEventListener('submit', function(e) {
        e.preventDefault();
        currentStudent.name = document.getElementById('studentName').value;
        currentStudent.grade = document.getElementById('gradeLevel').value;
        document.getElementById('registrationPage').classList.add('hidden');
        document.getElementById('subjectsPage').classList.remove('hidden');
    });

    function startQuiz(subject, model) {
        currentQuiz.model = model;
        currentQuiz.questions = questionsDatabase.science[currentStudent.grade][`model${model}`];
        currentQuiz.currentQuestion = 0;
        currentQuiz.answers = [];
        document.getElementById('subjectsPage').classList.add('hidden');
        document.getElementById('quizPage').classList.remove('hidden');
        displayQuestion();
    }

    function displayQuestion() {
        const q = currentQuiz.questions[currentQuiz.currentQuestion];
        document.getElementById('progressBar').style.width = ((currentQuiz.currentQuestion + 1) / currentQuiz.questions.length * 100) + '%';
        let html = `<div class="question-card"><h3>${q.question}</h3><div class="options-container">`;
        q.options.forEach((opt, i) => {
            const sel = currentQuiz.answers[currentQuiz.currentQuestion] === i ? 'selected' : '';
            html += `<button class="option-button ${sel}" onclick="selectAnswer(${i})">${opt}</button>`;
        });
        html += `</div></div>`;
        document.getElementById('questionContainer').innerHTML = html;
        document.getElementById('prevButton').disabled = currentQuiz.currentQuestion === 0;
        document.getElementById('nextButton').textContent = currentQuiz.currentQuestion === currentQuiz.questions.length - 1 ? 'Ø¥Ù†Ù‡Ø§Ø¡' : 'Ø§Ù„ØªØ§Ù„ÙŠ';
    }

    function selectAnswer(i) {
        currentQuiz.answers[currentQuiz.currentQuestion] = i;
        displayQuestion();
    }

    function previousQuestion() {
        if (currentQuiz.currentQuestion > 0) { currentQuiz.currentQuestion--; displayQuestion(); }
    }

    function nextQuestion() {
        if (currentQuiz.answers[currentQuiz.currentQuestion] === undefined) return alert('Ø§Ø®ØªØ§Ø±ÙŠ Ø¥Ø¬Ø§Ø¨Ø©!');
        if (currentQuiz.currentQuestion < currentQuiz.questions.length - 1) {
            currentQuiz.currentQuestion++; displayQuestion();
        } else {
            finish();
        }
    }

    function finish() {
        let score = 0;
        currentQuiz.questions.forEach((q, i) => { if(currentQuiz.answers[i] === q.correct) score++; });
        document.getElementById('scoreNumber').textContent = `${score} / ${currentQuiz.questions.length}`;
        document.getElementById('certStudentName').textContent = currentStudent.name;
        document.getElementById('certScore').textContent = `Ø§Ù„Ù†ØªÙŠØ¬Ø©: ${(score/currentQuiz.questions.length*100).toFixed(0)}%`;
        document.getElementById('quizPage').classList.add('hidden');
        document.getElementById('resultsPage').classList.remove('hidden');
    }

    function sendToTeacher() { window.open("https://forms.office.com/r/0Bk6DBauXW", "_blank"); }
  </script>

  <button onclick="window.open('https://chat.openai.com','_blank')" style="position:fixed; bottom:20px; left:20px; width:60px; height:60px; border-radius:50%; background:#10a37f; color:#fff; border:none; cursor:pointer; font-size:24px; box-shadow:0 5px 15px rgba(0,0,0,0.3); z-index:9999;">ğŸ¤–</button>
 </body>
</html>
